<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GECRAI Demo - Sistema Principal</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header>
        <h1>âš¡ GECRAI - Sistema de AnÃ¡lisis ElÃ©ctrico</h1>
        <p>Demo interactivo del sistema inteligente de anÃ¡lisis elÃ©ctrico</p>
    </header>

    <main>
        <section class="welcome">
            <h2>ðŸŽ¯ Â¡Bienvenido al Demo Completo de GECRAI!</h2>
            <p>Has accedido exitosamente al sistema. AquÃ­ puedes probar todas las funcionalidades.</p>
        </section>

        <section class="dashboard-section" id="dashboard-section">
            <h3>ðŸ“Š Dashboard de GestiÃ³n EnergÃ©tica</h3>
            <div class="dashboard-grid">
                <!-- KPI Card - Potencia Total -->
                <div class="kpi-card">
                    <div class="kpi-label">Potencia Total Calculada</div>
                    <div class="kpi-value">69.7</div>
                    <div class="kpi-unit">kW</div>
                </div>

                <!-- Gauge/Medidor - Cumplimiento NOM-001 -->
                <div class="gauge-container">
                    <div class="gauge">
                        <div class="gauge-circle">
                            <div class="gauge-inner">
                                <div class="gauge-percentage">85%</div>
                                <div class="gauge-label">Cumplimiento</div>
                            </div>
                        </div>
                    </div>
                    <p style="color: #00ff00; font-weight: bold; margin-top: 1rem;">NOM-001</p>
                </div>

                <!-- GrÃ¡fico HistÃ³rico con Chart.js -->
                <div class="historical-chart">
                    <div class="chart-title">Demanda HistÃ³rica por Mes</div>
                    <canvas id="demandChart" width="300" height="200"></canvas>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color"></div>
                            <span>Demanda (kW)</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <h3>Funcionalidades Disponibles</h3>
            <div class="feature-grid">
                <div class="feature">
                    <h4>ðŸ“Š Dashboard EnergÃ©tico</h4>
                    <p>Panel de control inteligente con mÃ©tricas y KPIs en tiempo real.</p>
                    <button class="demo-btn" onclick="showFeature('dashboard')">Ver Dashboard</button>
                </div>
                <div class="feature">
                    <h4>ðŸ“‹ AnÃ¡lisis NOM-001</h4>
                    <p>AnÃ¡lisis automÃ¡tico de cumplimiento normativo elÃ©ctrico.</p>
                    <button class="demo-btn" onclick="showFeature('nom')">Probar AnÃ¡lisis</button>
                </div>
                <div class="feature">
                    <h4>âš¡ CÃ¡lculos ElÃ©ctricos</h4>
                    <p>CÃ¡lculos precisos de sistemas elÃ©ctricos con IA.</p>
                    <button class="demo-btn" onclick="showFeature('calculations')">Calcular</button>
                </div>
                <div class="feature">
                    <h4>ðŸ“ˆ VisualizaciÃ³n de Datos</h4>
                    <p>GrÃ¡ficas y reportes interactivos en tiempo real.</p>
                    <button class="demo-btn" onclick="showFeature('visualization')">Ver Datos</button>
                </div>
                <div class="feature">
                    <h4>ðŸ¤– Asistente IA</h4>
                    <p>Asistente inteligente para consultas tÃ©cnicas.</p>
                    <button class="demo-btn" onclick="showFeature('ai')">Chatear</button>
                </div>
            </div>
        </section>

        <section id="demo-results" class="demo-results">
            <div class="card" id="nom-analysis">
                <h3>ðŸ“‹ AnÃ¡lisis NOM-001</h3>
                <div class="status compliance">âœ… CUMPLE</div>
                <p>El sistema cumple con la NOM-001-SEDE-2012 en:</p>
                <ul>
                    <li>Protecciones contra sobrecorriente âœ“</li>
                    <li>Sistemas de puesta a tierra âœ“</li>
                    <li>Distancias de seguridad âœ“</li>
                </ul>
                <button class="btn" onclick="simulateAnalysis()">Simular AnÃ¡lisis Completo</button>
            </div>

            <div class="card" id="electrical-calculations">
                <h3>âš¡ CÃ¡lculos ElÃ©ctricos</h3>
                <div class="calculation-form">
                    <label>Voltaje (V):</label>
                    <input type="number" value="480" placeholder="Voltaje">
                    <label>Corriente (A):</label>
                    <input type="number" value="100" placeholder="Corriente">
                    <button class="btn" onclick="calculateElectrical()">Calcular Potencia</button>
                </div>
                <div id="calc-result" class="result"></div>
            </div>

            <div class="card" id="data-visualization">
                <h3>ðŸ“Š VisualizaciÃ³n de Datos</h3>
                <div class="chart-container">
                    <div class="bar-chart">
                        <div class="bar" style="height: 80%">L1</div>
                        <div class="bar" style="height: 75%">L2</div>
                        <div class="bar" style="height: 85%">L3</div>
                    </div>
                    <p>Carga por fase (%)</p>
                </div>
                <button class="btn" onclick="refreshChart()">Actualizar Datos</button>
            </div>

            <div class="card" id="ai-assistant">
                <h3>ðŸ¤– Asistente IA GECRAI</h3>
                <div class="chat-interface">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <strong>Asistente:</strong> Â¡Hola! Â¿En quÃ© puedo ayudarte con el anÃ¡lisis elÃ©ctrico?
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" placeholder="Escribe tu pregunta..." id="userInput">
                        <button class="btn" onclick="sendMessage()">Enviar</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 GECRAI - Sistema de AnÃ¡lisis ElÃ©ctrico Inteligente</p>
        <p>Demo v1.1 - <a href="index.html">Volver al inicio</a></p>
    </footer>

    <!-- Chart.js Dashboard JavaScript -->
    <script>
        // Inicializar Dashboard Chart cuando se carga la pÃ¡gina
        document.addEventListener('DOMContentLoaded', function () {
            initializeDashboardChart();
        });

        function initializeDashboardChart() {
            const ctx = document.getElementById('demandChart');
            if (!ctx) return;

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Enero', 'Febrero', 'Marzo'],
                    datasets: [{
                        label: 'Demanda (kW)',
                        data: [20, 30, 25],
                        backgroundColor: [
                            '#00ff00',
                            '#00cc00',
                            '#00aa00'
                        ],
                        borderColor: '#00ff00',
                        borderWidth: 1,
                        borderRadius: 5,
                        borderSkipped: false,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 40,
                            ticks: {
                                color: '#ffffff',
                                stepSize: 10
                            },
                            grid: {
                                color: '#404040',
                                drawBorder: false
                            }
                        },
                        x: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                display: false,
                                drawBorder: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeInOutQuart'
                    }
                }
            });
        }
    </script>

    <script src="script.js"></script>
</body>

</html>